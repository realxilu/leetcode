1) Identation can really fuck you up. When running to persistent and unexplainable issue, check indentation.

2) # == vs 'is'
'==' checks the content
'is' checks if two variables are pointing at the same object